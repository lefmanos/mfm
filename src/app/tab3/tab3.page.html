<ion-header [translucent]="true">
    <ion-toolbar>
        <ion-title>
            Settings
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
    <ion-accordion-group>

        <ion-accordion value="first">
            <ion-item slot="header">
                <ion-title>
                    Manage Expense Categories
                </ion-title>
            </ion-item>

            <div class="ion-padding" slot="content">

                <ion-list>
                    <ion-item-sliding *ngFor="let item of expenseCategoryList; let i = index;">
                        <ion-item>
                            <ion-label>{{ item }}</ion-label>
                        </ion-item>
                        <ion-item-options side="end">
                            <ion-item-option color="primary" (click)="removeExpenseCategory(i)">
                                <ion-icon name="trash" slot="icon-only"></ion-icon>
                            </ion-item-option>
                        </ion-item-options>
                    </ion-item-sliding>
                </ion-list>

                    <ion-fab-button id="addExpenseCategoryButton" color="secondary">
                        <ion-icon name="add" size="small"></ion-icon>
                    </ion-fab-button>

            </div>


            <ion-popover trigger="addExpenseCategoryButton" triggerAction="click">
                <ng-template>
                    <div class="ion-padding">
                        <ion-label>
                            Create new category
                        </ion-label>
                        <form [formGroup]="newCategoryForm" (ngSubmit)="onSubmit(true)">
                            <div>
                                <input id="categoryName" type="text" formControlName="categoryName">
                            </div>
                            <ion-button type="submit">
                                <ion-icon name="checkmark-outline"></ion-icon>
                            </ion-button>
                        </form>
                    </div>
                </ng-template>
            </ion-popover>
        </ion-accordion>


        <ion-accordion>
            <ion-item slot="header">
                <ion-title>
                    Manage Income Categories
                </ion-title>
            </ion-item>

            <div class="ion-padding" slot="content">

                <ion-list>
                    <ion-item-sliding *ngFor="let item of incomeCategoryList; let i = index;">
                        <ion-item>
                            <ion-label>{{ item }}</ion-label>
                        </ion-item>
                        <ion-item-options side="end">
                            <ion-item-option color="primary" (click)="removeIncomeCategory(i)">
                                <ion-icon name="trash" slot="icon-only"></ion-icon>
                            </ion-item-option>
                        </ion-item-options>
                    </ion-item-sliding>
                </ion-list>

                    <ion-fab-button id="addIncomeCategoryButton" color="secondary">
                        <ion-icon name="add" size="small"></ion-icon>
                    </ion-fab-button>

            </div>


            <ion-popover trigger="addIncomeCategoryButton" triggerAction="click">
                <ng-template>
                    <div class="ion-padding">
                        <ion-label>
                            Create new category
                        </ion-label>
                        <form [formGroup]="newCategoryForm" (ngSubmit)="onSubmit(false)">
                            <div>
                                <input id="categoryName" type="text" formControlName="categoryName">
                            </div>
                            <ion-button type="submit">
                                <ion-icon name="checkmark-outline"></ion-icon>
                            </ion-button>
                        </form>
                    </div>
                </ng-template>
            </ion-popover>
        </ion-accordion>

        <!-- ------------------------------ -->

        <ion-accordion>
            <ion-item slot="header">
                <ion-title>
                    Manage Accounts
                </ion-title>
            </ion-item>

            <div class="ion-padding" slot="content">

                <ion-list>
                    <ion-item-sliding *ngFor="let item of accountList; let i = index;">
                        <ion-item>
                            <ion-label>{{ item }}</ion-label>
                        </ion-item>
                        <ion-item-options side="end">
                            <ion-item-option color="primary" (click)="removeAccount(i)">
                                <ion-icon name="trash" slot="icon-only"></ion-icon>
                            </ion-item-option>
                        </ion-item-options>
                    </ion-item-sliding>
                </ion-list>

                    <ion-fab-button id="addAccountButton" color="secondary">
                        <ion-icon name="add" size="small"></ion-icon>
                    </ion-fab-button>

            </div>


            <ion-popover trigger="addAccountButton" triggerAction="click">
                <ng-template>
                    <div class="ion-padding">
                        <ion-label>
                            Create new category
                        </ion-label>
                        <form [formGroup]="newAccountForm" (ngSubmit)="onSubmitAccount()">
                            <div>
                                <input id="accountName" type="text" formControlName="accountName">
                            </div>
                            <ion-button type="submit">
                                <ion-icon name="checkmark-outline"></ion-icon>
                            </ion-button>
                        </form>
                    </div>
                </ng-template>
            </ion-popover>
        </ion-accordion>
        <ion-accordion>
            <ion-item slot="header">
                <ion-title>
                    Debug
                </ion-title>
            </ion-item>

            <div slot="content">
                <ion-button (click)="clearData()">ClearData</ion-button>
                <ion-button (click)="printList()">PrintList</ion-button>
            </div>

        </ion-accordion>
    </ion-accordion-group>
</ion-content>
