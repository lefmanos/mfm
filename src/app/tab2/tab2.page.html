<ion-header [translucent]="true">
    <ion-toolbar>
        <ion-title>
            Tab 2
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
    <ion-header collapse="condense">
        <ion-toolbar>
            <ion-title size="large">Tab 2</ion-title>
        </ion-toolbar>
    </ion-header>

    <ion-grid [style.--ion-grid-columns]="9">

        <div class="ion-padding">
            <ion-row>
                <ion-col size=2>
                    <ion-item>
                        {{ weekArray[0][1] }}
                    </ion-item>
                </ion-col>
                <ion-col *ngFor="let dayName of weekArray[0].slice(2); let i = index" size=1>
                    <div *ngIf="i+1==this.ui['weekDay']; else elseBlock">
                        <ion-badge  color="warning">
                            {{ dayName }}
                        </ion-badge >
                    </div>
                    <ng-template #elseBlock>
                        <ion-badge >
                            {{ dayName }}
                        </ion-badge >
                    </ng-template>
                </ion-col>
            </ion-row>

            <ion-row>
                <ion-col size=2>
                    <ion-card [style.--background]="balanceColor">
                        <ion-card-header>
                            <ion-card-subtitle>
                                Balance
                            </ion-card-subtitle>
                        </ion-card-header>
                    </ion-card>
                </ion-col>
                <ion-col *ngFor="let column of weekBalance" size=1>
                    <div *ngIf="column[0]<0; else elseBalance">
                            <ion-badge slot="end" color="danger"> {{ column[0].toString() }} </ion-badge>
                    </div>
                    <ng-template #elseBalance>
                            <ion-badge slot="end"> {{ column[0].toString() }} </ion-badge>
                    </ng-template>
                    <div *ngIf="column[1]<0; else elseBudget">
                            <ion-badge slot="start" color="danger"> {{ column[1].toString() }} </ion-badge>
                    </div>
                    <ng-template #elseBudget>
                            <ion-badge slot="start" > {{ column[1].toString() }} </ion-badge>
                    </ng-template>
                </ion-col>
            </ion-row>

            <ion-row>
                <ion-label>
                    Epxenses
                </ion-label>
            </ion-row>
            <ion-row *ngFor="let row of weekArrayExpenses" >
                <ion-col size=2>
                    <ion-card [style.--background]="row[0]">
                        <ion-card-header>
                            <ion-card-title>
                                {{ row[1][0] }}
                            </ion-card-title>
                        </ion-card-header>
                    </ion-card>
                </ion-col>
                <ion-col *ngFor="let column of row.slice(2)" size=1>
                    <div *ngIf="+column<0; else elseExpenses">
                            <ion-badge color="danger"> {{ column }} </ion-badge>
                    </div>
                    <ng-template #elseExpenses>
                        <ng-container  *ngIf="+column>0">
                            <ion-badge> {{ column }} </ion-badge>
                        </ng-container>
                    </ng-template>
                </ion-col>
            </ion-row>

            <ion-row>
                <ion-label>
                    Income
                </ion-label>
            </ion-row>
            <ion-row *ngFor="let row of weekArrayIncome" >
                <ion-col size=2>
                    <ion-card [style.--background]="row[0]">
                        <ion-card-header>
                            <ion-card-title>
                                {{ row[1][0] }}
                            </ion-card-title>
                        </ion-card-header>
                    </ion-card>
                </ion-col>
                <ion-col *ngFor="let column of row.slice(2)" shape="round" lines="full" size=1>
                    <div *ngIf="+column<0; else elseIncome">
                            <ion-badge color="danger"> {{ column }} </ion-badge>
                    </div>
                    <ng-template #elseIncome>
                        <ng-container *ngIf="+column>0">
                            <ion-badge> {{ column }} </ion-badge>
                        </ng-container>
                    </ng-template>
                </ion-col>
            </ion-row>
        </div>

        <ion-row>
            <ion-list>
                <ion-item-sliding *ngFor="let item of transactionList; let i = index">
                    <ion-item>
                        <ion-label>{{ item["date"] }} {{item["category"]}} {{item["amount"] }}</ion-label>
                    </ion-item>
                    <ion-item-options side="end">
                        <ion-item-option color="primary" (click)="removeTransaction(i)">
                            <ion-icon name="trash" slot="icon-only"></ion-icon>
                        </ion-item-option>
                    </ion-item-options>
                </ion-item-sliding>
            </ion-list>
        </ion-row>

    </ion-grid>


    <ion-button (click)="printSum()">PrintSum</ion-button>
</ion-content>
